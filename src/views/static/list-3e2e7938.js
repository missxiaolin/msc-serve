import{J as a,j as e}from"./jsHoursEchart-f3e56846.js";import{t as l}from"./index-bdf07b24.js";import{u as r}from"./usePagination-a31d1b37.js";import{D as t}from"./detailPopup-097241f9.js";import{h as o,R as n,P as p,_ as s,r as i,o as d,a as u,d as c,j as g,k as m,x as h,y as f,b as D}from"./index-ff3f8bb3.js";import"./index-f508d0cf.js";import"./service-21cd3415.js";const C={class:"app-container"},b={class:"table-wrapper"},U={class:"pager-wrapper"};const _=s({components:{JsHoursEchart:a,DetailPopup:t},setup(){const a=o([]),t=o({pageUrl:"",simpleUrl:"",errorMsg:"",data:l({format:["00:00:00","23:59:59"]})}),{paginationData:s,handleCurrentChange:i,handleSizeChange:d}=r((()=>{u()})),u=async()=>{let l={pageUrl:t.value.pageUrl,errorMsg:t.value.errorMsg,startTime:t.value.data[0],endTime:t.value.data[1],page:s.currentPage,pageSize:s.pageSize},r=await e(l);r.success&&(s.total=r.model.count,a.value=r.model.list)},c=()=>{u()},g=o({});return n((()=>{c()})),{searchData:t,paginationData:s,handleCurrentChange:i,handleSizeChange:d,tableData:a,resetSearch:()=>{t.value={pageUrl:"",simpleUrl:"",errorMsg:"",data:l({format:["00:00:00","23:59:59"]})},s.currentPage=1},initQuery:c,handleDetail:a=>{g.value={},p((()=>g.value=a))},perfNode:g}}},[["render",function(a,e,l,r,t,o){const n=i("el-input"),p=i("el-form-item"),s=i("el-date-picker"),_=i("el-button"),v=i("el-form"),y=i("el-car"),z=i("JsHoursEchart"),V=i("el-card"),j=i("el-table-column"),k=i("el-table"),S=i("el-pagination"),P=i("DetailPopup");return d(),u("div",C,[c(y,{shadow:"never",class:"search-wrapper"},{default:g((()=>[c(v,{ref:"searchFormRef",inline:!0,model:r.searchData},{default:g((()=>[c(p,{prop:"pageUrl",label:"页面链接"},{default:g((()=>[c(n,{modelValue:r.searchData.pageUrl,"onUpdate:modelValue":e[0]||(e[0]=a=>r.searchData.pageUrl=a),placeholder:"请输入页面链接"},null,8,["modelValue"])])),_:1}),c(p,{prop:"simpleUrl",label:"页面链接"},{default:g((()=>[c(n,{modelValue:r.searchData.simpleUrl,"onUpdate:modelValue":e[1]||(e[1]=a=>r.searchData.simpleUrl=a),placeholder:"请输入带*的页面链接"},null,8,["modelValue"])])),_:1}),c(p,{prop:"url",label:"错误信息"},{default:g((()=>[c(n,{modelValue:r.searchData.errorMsg,"onUpdate:modelValue":e[2]||(e[2]=a=>r.searchData.errorMsg=a),placeholder:"请输入错误信息"},null,8,["modelValue"])])),_:1}),c(p,{prop:"phone",label:"日期"},{default:g((()=>[c(s,{modelValue:r.searchData.data,"onUpdate:modelValue":e[3]||(e[3]=a=>r.searchData.data=a),type:"datetimerange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])])),_:1}),c(p,null,{default:g((()=>[c(_,{type:"primary",onClick:r.initQuery},{default:g((()=>[f("查询")])),_:1},8,["onClick"]),c(_,{onClick:r.resetSearch},{default:g((()=>[f("重置")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),c(V,{shadow:"never"},{default:g((()=>[c(z,{params:r.searchData},null,8,["params"])])),_:1}),c(V,{shadow:"never",class:"mt20"},{default:g((()=>[D("div",b,[c(k,{border:"",data:r.tableData},{default:g((()=>[c(j,{prop:"type",label:"错误类型",align:"center"}),c(j,{prop:"errorMsg",label:"错误内容",align:"center"}),c(j,{prop:"simpleUrl",label:"上报页面",align:"center"}),c(j,{prop:"happenTime",label:"上报时间",align:"center"}),c(j,{prop:"uuId",label:"上报人",align:"center"}),c(j,{label:"操作",fixed:"right",align:"center"},{default:g((({row:a})=>[c(_,{type:"text",onClick:e=>r.handleDetail(a)},{default:g((()=>[f(" 查看详情 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),D("div",U,[c(S,{background:"",layout:r.paginationData.layout,"page-sizes":r.paginationData.pageSizes,total:r.paginationData.total,"page-size":r.paginationData.pageSize,currentPage:r.paginationData.currentPage,onSizeChange:r.handleSizeChange,onCurrentChange:r.handleCurrentChange},null,8,["layout","page-sizes","total","page-size","currentPage","onSizeChange","onCurrentChange"])])])),_:1}),r.perfNode.type?(d(),m(P,{key:0,perfNode:r.perfNode},null,8,["perfNode"])):h("",!0)])}],["__scopeId","data-v-c0fa035a"]]);export{_ as default};
