import{E as t}from"./index-d04cb6ba.js";import{c as e,_ as a,r as o,o as s,a as n,b as i,k as r,l,F as p,y as d}from"./index-a8789281.js";import{r as c}from"./service-458436ed.js";const u={class:"flex flex-row justify-between",style:{width:"100%"}};const h=a({components:{Echarts:t},props:{options:{type:Object,required:!0}},name:"perfEchart",setup:t=>({navigationEchart:e((()=>{var e;const a=(null==(e=t.options)?void 0:e.nt)||{};if(!a||!Object.keys(a).length)return{};const o=["pageLoad","domReady","resourceLoad","domParse","contentDownload","ttfb","ssl","initialConnection","dnsLookup"],s=[],n=[];o.forEach(((t,e)=>{const i=(a[t]||0).toFixed(2);n.push(`${i}ms`);const r={name:t,type:"bar",stack:"Total",label:{show:!0,position:"right"},data:[]};for(let a=0,s=o.length;a<s;a++)e==a?r.data.push(i):r.data.push("-");s.push(r)}));const{pageLoad:i=0,domReady:r=0,resourceLoad:l=0,domParse:p=0,contentDownload:d=0,ttfb:c=0,ssl:u=0,initialConnection:h=0,dnsLookup:y=0}=a;return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(let e=1,a=t.length;e<a;e++){let{name:a,value:o,seriesName:s,color:n}=t[e];if("-"!==o)return`${a}</br><span style="display:flex; align-items: center;">\n\t\t\t\t\t<i style="display:block;margin-right:5px;border-radius:50%;width:10px;height:10px;left:5px;background-color:${n}"></i>${s}:\n\t\t\t\t\t<i style="padding-left: 30px;">${o}</i>\n\t\t\t\t</span>`}}},xAxis:{type:"value",show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dotted"}}},yAxis:[{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dotted"}},type:"category",data:["页面完全加载","DOM完成加载","资源加载耗时","DOM解析耗时","内容传输耗时","请求响应耗时","SSL安全连接耗时","TCP连接耗时","DNS查询耗时"]},{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dotted"}},type:"category",data:n}],seriesColorReset:!1,series:[{name:"Placeholder",type:"bar",stack:"Total",silent:!0,itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[`${i+r+l+p+d+c+u+h+y}`,`${r+l+p+d+c+u+h+y}`,`${l+p+d+c+u+h+y}`,`${p+d+c+u+h+y}`,`${d+c+u+h+y}`,`${c+u+h+y}`,`${u+h+y}`,`${h+y}`,`${y}`]},...s]}}))})},[["render",function(t,e,a,c,h,y){const m=o("el-statistic"),f=o("Echarts");return s(),n(p,null,[i("div",u,[r(m,{title:"白屏时间",value:a.options.fp.value||0},{suffix:l((()=>[d("ms")])),_:1},8,["value"]),r(m,{title:"DOM完成加载",value:a.options.nt&&a.options.nt.domReady?a.options.nt.domReady:0},{suffix:l((()=>[d("ms")])),_:1},8,["value"]),r(m,{title:"页面完全加载",value:a.options.nt&&a.options.nt.pageLoad?a.options.nt.pageLoad:0},{suffix:l((()=>[d("ms")])),_:1},8,["value"])]),r(f,{options:c.navigationEchart},null,8,["options"])],64)}]]),y={components:{Echarts:t},props:{options:{type:Object,required:!0}},name:"wxPerfEchart",setup:t=>({navigationEchart:e((()=>{var e;const a=(null==(e=t.options)?void 0:e.nt)||{};if(!a||!Object.keys(a).length)return{};const o=["firstRenderduration","scriptduration","routeduration","appLaunchduration","loadPackageduration"],s=[],n=[];o.forEach(((t,e)=>{const i=(a[t]||0).toFixed(2);n.push(`${i}ms`);const r={name:t,type:"bar",stack:"Total",label:{show:!0,position:"right"},data:[]};for(let a=0,s=o.length;a<s;a++)e==a?r.data.push(i):r.data.push("-");s.push(r)}));const{scriptduration:i=0,routeduration:r=0,loadPackageduration:l=0,appLaunchduration:p=0}=a;return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){for(let e=1,a=t.length;e<a;e++){let{name:a,value:o,seriesName:s,color:n}=t[e];if("-"!==o)return`${a}</br><span style="display:flex; align-items: center;">\n\t\t\t\t\t<i style="display:block;margin-right:5px;border-radius:50%;width:10px;height:10px;left:5px;background-color:${n}"></i>${s}:\n\t\t\t\t\t<i style="padding-left: 30px;">${o}</i>\n\t\t\t\t</span>`}}},xAxis:{type:"value",show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dotted"}}},yAxis:[{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dotted"}},type:"category",data:["页面渲染","JS注入","路由","小程序启动","代码包下载"]},{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dotted"}},type:"category",data:n}],seriesColorReset:!1,series:[{name:"Placeholder",type:"bar",stack:"Total",silent:!0,itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:[`${p+l+r+i}`,`${p+l+r}`,`${p+l}`,`${l}`]},...s]}}))})},m=i("div",{class:"flex flex-row justify-between",style:{width:"100%"}},null,-1);const f=a(y,[["render",function(t,e,a,i,l,d){const c=o("Echarts");return s(),n(p,null,[m,r(c,{options:i.navigationEchart},null,8,["options"])],64)}]]);function x(t){return c({url:"/adm/performance/list",method:"post",data:t})}function g(t){return c({url:"/adm/performance/echart/by/url",method:"post",data:t})}export{h as P,f as W,g as a,x as p};
//# sourceMappingURL=index-f1151c95.js.map
