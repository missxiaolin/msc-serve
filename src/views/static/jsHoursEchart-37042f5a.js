import{E as e}from"./index-fa744201.js";import{r as t}from"./service-0bae86ac.js";import{h as r}from"./index-13555ce2.js";import{g as a,w as s,R as o,Q as l,_ as n,r as i,o as c,a as p,b as u,k as d,l as v,F as m,A as g,y as f,M as h,N as y}from"./index-3ec52a71.js";function L(e){return t({url:"/adm/js/list",method:"post",data:e})}function j(e){return t({url:"/adm/js/aggregate/error/by/errormsg",method:"post",data:e})}const x={props:{params:{type:Object,default:{}}},components:{Echarts:e},setup(e){const n=a({jsErrorChartData:[],effectUserList:[],cregionList:[],pageList:[],errorTypeList:[],jseErrorCount:0}),i=e=>{return a=this,s=null,o=function*(){const a={pageUrl:e.pageUrl||"",errorMsg:e.errorMsg||"",startTime:e.data[0],endTime:e.data[1],simpleUrl:e.simpleUrl||""};let s=yield function(e){return t({url:"/adm/js/echart/hour",method:"post",data:e})}(a);if(!s.success)return;const{model:o}=s,{axisData:l=[],seriesData:i=[],userList:c=[],cregionList:p=[],pageList:u=[],errorTypeList:d=[],errorCount:v=0}=o,m={xAxis:{type:"category",data:l,axisLabel:{color:"#95979e",align:"center",formatter:e=>{const t=r(e).format("MM-DD HH:mm").split(" ");return`${t[0]}\n${t[1]}`}}},yAxis:{type:"value"},dataZoom:[{type:"inside"}],series:[{name:"数量",data:i,type:"line"}]};n.jsErrorChartData=m,n.jseErrorCount=v,n.effectUserList=c,n.cregionList=p,n.pageList=u,n.errorTypeList=d,n.jseErrorCount=v},new Promise(((e,t)=>{var r=e=>{try{n(o.next(e))}catch(r){t(r)}},l=e=>{try{n(o.throw(e))}catch(r){t(r)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,l);n((o=o.apply(a,s)).next())}));var a,s,o};return s((()=>e.params),(e=>{Object.keys(e).length&&l((()=>i(e)))}),{deep:!0}),o((()=>{i(e.params)})),{data:n}}},b=e=>(h("data-v-6b876040"),e=e(),y(),e),_={class:"flex js-error-tip"},E=b((()=>u("div",null,"错误类型",-1))),U={class:"popover-content"},C=b((()=>u("div",null,"影响人数",-1))),w={class:"popover-content"},D=b((()=>u("div",null,"影响城市",-1))),T={class:"popover-content"},k=b((()=>u("div",null,"影响页面",-1))),M={class:"popover-content"};const A=n(x,[["render",function(e,t,r,a,s,o){const l=i("el-statistic"),n=i("el-popover"),h=i("Echarts");return c(),p(m,null,[u("div",_,[d(l,{title:"错误数",value:a.data.jseErrorCount},null,8,["value"]),d(l,{value:a.data.errorTypeList.length,"value-style":"color: #29c1c2;"},{title:v((()=>[d(n,{placement:"bottom-start",width:200,trigger:"hover"},{reference:v((()=>[E])),default:v((()=>[u("div",U,[(c(!0),p(m,null,g(a.data.errorTypeList,((e,t)=>(c(),p("p",{key:t},f(e.type),1)))),128))])])),_:1})])),_:1},8,["value"]),d(l,{value:a.data.effectUserList.length,"value-style":"color: #29c1c2;"},{title:v((()=>[d(n,{placement:"bottom-start",width:200,trigger:"hover"},{reference:v((()=>[C])),default:v((()=>[u("div",w,[(c(!0),p(m,null,g(a.data.effectUserList,((e,t)=>(c(),p("p",{key:t},f(e.uuId),1)))),128))])])),_:1})])),_:1},8,["value"]),d(l,{value:a.data.cregionList.length,"value-style":"color: #29c1c2;"},{title:v((()=>[d(n,{placement:"bottom-start",width:200,trigger:"hover"},{reference:v((()=>[D])),default:v((()=>[u("div",T,[(c(!0),p(m,null,g(a.data.cregionList,((e,t)=>(c(),p("p",{key:t},f(e.province),1)))),128))])])),_:1})])),_:1},8,["value"]),d(l,{value:a.data.pageList.length,"value-style":"color: #29c1c2;"},{title:v((()=>[d(n,{placement:"bottom-start",width:200,trigger:"hover"},{reference:v((()=>[k])),default:v((()=>[u("div",M,[(c(!0),p(m,null,g(a.data.pageList,((e,t)=>(c(),p("p",{key:t},f(e.pageUrl),1)))),128))])])),_:1})])),_:1},8,["value"])]),d(h,{options:a.data.jsErrorChartData},null,8,["options"])],64)}],["__scopeId","data-v-6b876040"]]);export{A as J,j as a,L as j};
